(function(a) {
    function b(a) {
        var b = {
            close_delay: 5e3,
            display_class: "mb--messagebar--show",
            disappear_class: "mb--messagebar--hide",
            default_class: "mb--messagebar",
            is_html: !1
        };
        this.setting = c(b, a), this.is_showing = !1, this.message_dom = null, this.initialized = !1, this.self_timer = null
    }
    var c = function(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        },
        d = function(a) {
            var b = {};
            for (var c in a) b[c] = a[c];
            return b
        },
        e = function(a) {
            var b = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#x27;"
                },
                c = [];
            for (var d in b) c.push(d);
            var e = new RegExp("[" + c.join("") + "]", "g");
            return ("" + a).replace(e, function(a) {
                return b[a]
            })
        };
    b.prototype.initialize = function() {
        this.message_dom = document.createElement("div"), this.message_dom.classList.add(this.setting.default_class);
        var a = document.getElementsByTagName("body")[0];
        a.appendChild(this.message_dom), this.initialized = !0
    }, b.prototype.show = function(a, b) {
        if (!this.initialized) throw new Error("MessageBar is not initialized");
        this.is_showing && this.restore(), this.is_showing = !0;
        var f = c(d(this.setting), b);
        this.message_dom.innerHTML = f.is_html ? a : e(a), "string" == typeof f.display_class && (f.display_class = [f.display_class]);
        for (var g in f.display_class) this.message_dom.classList.add(f.display_class[g]);
        this.message_dom.setAttribute("data-mb-disappear-class", f.disappear_class), this.self_timer = setTimeout(this.close.bind(this), f.close_delay)
    }, b.prototype.close = function() {
        var a = this,
            b = this.message_dom.getAttribute("data-mb-disappear-class");
        this.message_dom.classList.add(b), setTimeout(function() {
            a.restore()
        }, 250)
    }, b.prototype.restore = function() {
        this.is_showing = !1, this.message_dom.innerHTML = "", this.message_dom.className = this.setting.default_class, this.message_dom.removeAttribute("data-mb-disappear-class"), clearTimeout(this.self_timer), this.self_timer = null
    }, b.prototype.alert = function(a) {
        this.show(a, {
            display_class: ["mb--messagebar--show", "mb--messagebar--danger"]
        })
    }, b.prototype.success = function(a) {
        this.show(a, {
            display_class: ["mb--messagebar--show", "mb--messagebar--success"]
        })
    }, b.prototype.warning = function(a) {
        this.show(a, {
            display_class: ["mb--messagebar--show", "mb--messagebar--warning"]
        })
    }, a.MessageBar = b
}).call(this, this);